<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="reporte_clientes_cuentas" language="java" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d">
    <property name="com.jaspersoft.studio.data.defaultdataadapter" value="PostgresBanco"/>
    <property name="com.jaspersoft.studio.unit." value="pixel"/>
    <property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
    <property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
    <query language="sql"><![CDATA[SELECT
    u.id_usuario AS id,
    CONCAT(u.nombre, ' ', u.apellidos) AS cliente,
    u.dni_ruc AS documento,
    u.sexo,
    u.correo,
    u.telefono,
    u.direccion,
    u.nombre_usuario AS usuario,
    r.rol AS tipo_usuario,
    c.nombre AS tipo_cuenta,
    c.n_cuenta AS numero_cuenta,
    c.n_intercuenta AS numero_interbancario,
    c.saldo
FROM t_usuario u
JOIN rol_usuario r ON u.rol_usuario = r.id
LEFT JOIN cuenta_bancaria c ON c.id_usuario = u.id_usuario
ORDER BY cliente]]></query>
    <field name="id" class="java.lang.Integer"/>
    <field name="cliente" class="java.lang.String"/>
    <field name="documento" class="java.lang.String"/>
    <field name="sexo" class="java.lang.String"/>
    <field name="correo" class="java.lang.String"/>
    <field name="telefono" class="java.lang.String"/>
    <field name="direccion" class="java.lang.String"/>
    <field name="usuario" class="java.lang.String"/>
    <field name="tipo_usuario" class="java.lang.String"/>
    <field name="tipo_cuenta" class="java.lang.String"/>
    <field name="numero_cuenta" class="java.lang.String"/>
    <field name="numero_interbancario" class="java.lang.String"/>
    <field name="saldo" class="java.math.BigDecimal"/>
    <variable name="contador" calculation="Count" class="java.lang.Integer">
        <expression><![CDATA[$F{id}]]></expression>
        <initialValueExpression><![CDATA[0]]></initialValueExpression>
    </variable>
    <title height="80" splitType="Stretch">
        <element kind="rectangle" uuid="b1c2d3e4-f5a6-4b7c-8d9e-0f1a2b3c4d5e" x="0" y="0" width="802" height="80" backcolor="#1A3A5C">
            <pen lineWidth="0.0"/>
        </element>
        <element kind="staticText" uuid="c2d3e4f5-a6b7-4c8d-9e0f-1a2b3c4d5e6f" x="20" y="15" width="762" height="30" forecolor="#FFFFFF" fontName="SansSerif" fontSize="22.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
            <text><![CDATA[REPORTE DE CLIENTES Y CUENTAS BANCARIAS]]></text>
        </element>
        <element kind="staticText" uuid="d3e4f5a6-b7c8-4d9e-0f1a-2b3c4d5e6f7a" x="20" y="50" width="762" height="20" forecolor="#E0E0E0" fontName="SansSerif" fontSize="12.0" italic="true" hTextAlign="Center" vTextAlign="Middle">
            <text><![CDATA[Información detallada de clientes con sus datos bancarios]]></text>
        </element>
    </title>
    <pageHeader height="35" splitType="Stretch">
        <element kind="textField" uuid="e4f5a6b7-c8d9-4e0f-1a2b-3c4d5e6f7a8b" x="0" y="10" width="200" height="20" forecolor="#1A3A5C" fontSize="10.0" pattern="dd/MM/yyyy HH:mm" bold="true" vTextAlign="Middle">
            <expression><![CDATA[new java.util.Date()]]></expression>
        </element>
        <element kind="textField" uuid="f5a6b7c8-d9e0-4f1a-2b3c-4d5e6f7a8b9c" x="602" y="10" width="150" height="20" forecolor="#1A3A5C" fontSize="10.0" bold="true" hTextAlign="Right" vTextAlign="Middle">
            <expression><![CDATA["Página " + $V{PAGE_NUMBER}]]></expression>
        </element>
        <element kind="textField" uuid="a6b7c8d9-e0f1-4a2b-3c4d-5e6f7a8b9c0d" x="752" y="10" width="50" height="20" forecolor="#1A3A5C" fontSize="10.0" evaluationTime="Report" bold="true" vTextAlign="Middle">
            <expression><![CDATA[" de " + $V{PAGE_NUMBER}]]></expression>
        </element>
        <element kind="line" uuid="b7c8d9e0-f1a2-4b3c-4d5e-6f7a8b9c0d1e" x="0" y="32" width="802" height="1" forecolor="#1A3A5C">
            <pen lineWidth="2.0"/>
        </element>
    </pageHeader>
    <columnHeader height="40" splitType="Stretch">
        <element kind="rectangle" uuid="c8d9e0f1-a2b3-4c4d-5e6f-7a8b9c0d1e2f" x="0" y="0" width="802" height="40" backcolor="#2C5F8D">
            <pen lineWidth="0.0"/>
        </element>
        <element kind="staticText" uuid="d9e0f1a2-b3c4-4d5e-6f7a-8b9c0d1e2f3a" x="5" y="10" width="30" height="20" forecolor="#FFFFFF" fontSize="9.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
            <text><![CDATA[ID]]></text>
        </element>
        <element kind="staticText" uuid="e0f1a2b3-c4d5-4e6f-7a8b-9c0d1e2f3a4b" x="40" y="10" width="100" height="20" forecolor="#FFFFFF" fontSize="9.0" bold="true" vTextAlign="Middle">
            <text><![CDATA[Cliente]]></text>
        </element>
        <element kind="staticText" uuid="f1a2b3c4-d5e6-4f7a-8b9c-0d1e2f3a4b5c" x="145" y="10" width="70" height="20" forecolor="#FFFFFF" fontSize="9.0" bold="true" vTextAlign="Middle">
            <text><![CDATA[Documento]]></text>
        </element>
        <element kind="staticText" uuid="a2b3c4d5-e6f7-4a8b-9c0d-1e2f3a4b5c6d" x="220" y="10" width="100" height="20" forecolor="#FFFFFF" fontSize="9.0" bold="true" vTextAlign="Middle">
            <text><![CDATA[Correo]]></text>
        </element>
        <element kind="staticText" uuid="b3c4d5e6-f7a8-4b9c-0d1e-2f3a4b5c6d7e" x="325" y="10" width="70" height="20" forecolor="#FFFFFF" fontSize="9.0" bold="true" vTextAlign="Middle">
            <text><![CDATA[Teléfono]]></text>
        </element>
        <element kind="staticText" uuid="c4d5e6f7-a8b9-4c0d-1e2f-3a4b5c6d7e8f" x="400" y="10" width="70" height="20" forecolor="#FFFFFF" fontSize="9.0" bold="true" vTextAlign="Middle">
            <text><![CDATA[Usuario]]></text>
        </element>
        <element kind="staticText" uuid="d5e6f7a8-b9c0-4d1e-2f3a-4b5c6d7e8f9a" x="475" y="10" width="80" height="20" forecolor="#FFFFFF" fontSize="9.0" bold="true" vTextAlign="Middle">
            <text><![CDATA[Tipo Cuenta]]></text>
        </element>
        <element kind="staticText" uuid="e6f7a8b9-c0d1-4e2f-3a4b-5c6d7e8f9a0b" x="560" y="10" width="110" height="20" forecolor="#FFFFFF" fontSize="9.0" bold="true" vTextAlign="Middle">
            <text><![CDATA[Núm. Cuenta]]></text>
        </element>
        <element kind="staticText" uuid="f7a8b9c0-d1e2-4f3a-4b5c-6d7e8f9a0b1c" x="675" y="10" width="127" height="20" forecolor="#FFFFFF" fontSize="9.0" bold="true" hTextAlign="Right" vTextAlign="Middle">
            <text><![CDATA[Saldo]]></text>
        </element>
    </columnHeader>
    <detail>
        <band height="30" splitType="Stretch">
            <element kind="rectangle" uuid="a8b9c0d1-e2f3-4a4b-5c6d-7e8f9a0b1c2d" x="0" y="0" width="802" height="30" backcolor="#F5F5F5">
                <printWhenExpression><![CDATA[$V{REPORT_COUNT} % 2 == 0]]></printWhenExpression>
                <pen lineWidth="0.0"/>
            </element>
            <element kind="textField" uuid="b9c0d1e2-f3a4-4b5c-6d7e-8f9a0b1c2d3e" x="5" y="5" width="30" height="20" fontSize="8.0" blankWhenNull="true" hTextAlign="Center" vTextAlign="Middle">
                <expression><![CDATA[$F{id}]]></expression>
            </element>
            <element kind="textField" uuid="c0d1e2f3-a4b5-4c6d-7e8f-9a0b1c2d3e4f" x="40" y="5" width="100" height="20" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle">
                <expression><![CDATA[$F{cliente}]]></expression>
            </element>
            <element kind="textField" uuid="d1e2f3a4-b5c6-4d7e-8f9a-0b1c2d3e4f5a" x="145" y="5" width="70" height="20" fontSize="8.0" blankWhenNull="true" vTextAlign="Middle">
                <expression><![CDATA[$F{documento}]]></expression>
            </element>
            <element kind="textField" uuid="e2f3a4b5-c6d7-4e8f-9a0b-1c2d3e4f5a6b" x="220" y="5" width="100" height="20" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle">
                <expression><![CDATA[$F{correo}]]></expression>
            </element>
            <element kind="textField" uuid="f3a4b5c6-d7e8-4f9a-0b1c-2d3e4f5a6b7c" x="325" y="5" width="70" height="20" fontSize="8.0" blankWhenNull="true" vTextAlign="Middle">
                <expression><![CDATA[$F{telefono}]]></expression>
            </element>
            <element kind="textField" uuid="a4b5c6d7-e8f9-4a0b-1c2d-3e4f5a6b7c8d" x="400" y="5" width="70" height="20" fontSize="8.0" blankWhenNull="true" vTextAlign="Middle">
                <expression><![CDATA[$F{usuario}]]></expression>
            </element>
            <element kind="textField" uuid="b5c6d7e8-f9a0-4b1c-2d3e-4f5a6b7c8d9e" x="475" y="5" width="80" height="20" fontSize="8.0" blankWhenNull="true" vTextAlign="Middle">
                <expression><![CDATA[$F{tipo_cuenta}]]></expression>
            </element>
            <element kind="textField" uuid="c6d7e8f9-a0b1-4c2d-3e4f-5a6b7c8d9e0f" x="560" y="5" width="110" height="20" fontSize="8.0" blankWhenNull="true" vTextAlign="Middle">
                <expression><![CDATA[$F{numero_cuenta}]]></expression>
            </element>
            <element kind="textField" uuid="d7e8f9a0-b1c2-4d3e-4f5a-6b7c8d9e0f1a" x="675" y="5" width="127" height="20" fontSize="8.0" pattern="#,##0.00" blankWhenNull="true" bold="true" hTextAlign="Right" vTextAlign="Middle">
                <expression><![CDATA[$F{saldo}]]></expression>
            </element>
            <element kind="line" uuid="e8f9a0b1-c2d3-4e4f-5a6b-7c8d9e0f1a2b" x="0" y="28" width="802" height="1" forecolor="#CCCCCC"/>
        </band>
    </detail>
    <columnFooter splitType="Stretch"/>
    <pageFooter height="30" splitType="Stretch">
        <element kind="line" uuid="f9a0b1c2-d3e4-4f5a-6b7c-8d9e0f1a2b3c" x="0" y="5" width="802" height="1" forecolor="#1A3A5C"/>
        <element kind="staticText" uuid="a0b1c2d3-e4f5-4a6b-7c8d-9e0f1a2b3c4d" x="0" y="10" width="400" height="15" forecolor="#666666" fontSize="8.0" vTextAlign="Middle">
            <text><![CDATA[Sistema Bancario - Reporte generado automáticamente]]></text>
        </element>
        <element kind="textField" uuid="b1c2d3e4-f5a6-4b7c-8d9e-0f1a2b3c4d5e" x="702" y="10" width="100" height="15" forecolor="#666666" fontSize="8.0" hTextAlign="Right" vTextAlign="Middle">
            <expression><![CDATA["Página " + $V{PAGE_NUMBER}]]></expression>
        </element>
    </pageFooter>
    <summary height="50" splitType="Stretch">
        <element kind="rectangle" uuid="c2d3e4f5-a6b7-4c8d-9e0f-1a2b3c4d5e6f" x="0" y="10" width="802" height="35" backcolor="#E8F4F8">
            <pen lineWidth="1.0" lineColor="#1A3A5C"/>
        </element>
        <element kind="staticText" uuid="d3e4f5a6-b7c8-4d9e-0f1a-2b3c4d5e6f7a" x="500" y="18" width="150" height="20" forecolor="#1A3A5C" fontSize="11.0" bold="true" hTextAlign="Right" vTextAlign="Middle">
            <text><![CDATA[Total de Registros:]]></text>
        </element>
        <element kind="textField" uuid="e4f5a6b7-c8d9-4e0f-1a2b-3c4d5e6f7a8b" x="660" y="18" width="130" height="20" forecolor="#1A3A5C" fontSize="11.0" bold="true" hTextAlign="Right" vTextAlign="Middle">
            <expression><![CDATA[$V{REPORT_COUNT}]]></expression>
        </element>
    </summary>
</jasperReport>